# Smart Agriculture Management System

**Comprehensive README — generated by ChatGPT**

> This README is a thorough, code-accurate explanation of the repository included with the project. It contains a full file/folder layout, every OOP concept used, how the system runs from `App.java`, the runtime flow, and a short description of every major class.

---

## Table of Contents
1. Project overview
2. High-level architecture
3. Folder & file layout (exact)
4. All OOP concepts used (mapped to code locations)
5. How the system runs (step-by-step using `App.java`)
6. How it works (detailed runtime flow)
7. Class-by-class description
8. Build & run instructions (exact commands)
9. Input / Output / Generated files
10. Notes, caveats & troubleshooting
11. Possible improvements / suggestions
12. License / attribution

---

## 1) Project overview
A small, console-based Smart Agriculture Management System simulator written in Java. The system simulates four environmental meters (temperature, humidity, light intensity, soil moisture), logs readings, allows creation of users (Admin, Agronomist, Farmer), and demonstrates actuator control (both automatic and manual actuators). The simulator writes logs to `src/data_logs/` and uses interfaces, abstract classes, custom exceptions and threads for logging.

High level responsibilities:
- `App.java`: application entry point
- `Authentication`: user creation / sign-up / user management
- `FarmSimulator`: generates time-series sensor data and drives the simulation
- `Meters` (`Thermometer`, `Hygrometer`, `Photometer`, `SoilMoistureMeter`): sense data, log and notify
- `Actuators`: automatic & manual actuators reacting to meter values
- `Loggers`: record sensor and actuator activity to files

---

## 2) High-level architecture
- **Packages:** `src` is the root package. Subpackages split responsibilities: `Actuators`, `Field_Meters`, `Loggers`, `Secure_Authentication`, `Users`.
- **Interfaces & abstract classes:** `Sensor`, `DataLogger` (interfaces), `Person` (abstract class), `Authentication` (interface for user management behavior).
- **Simulation loop:** `FarmSimulator.start()` iterates over 24 hours in 15-minute steps, generates realistic environmental values and calls each meter's `senseData`.
- **Logging & persistence:** Dedicated logger classes write to text and CSV files in `src/data_logs/`.

---

## 3) Folder & file layout (exact - taken from the repo)
```
- Smart-Agriculture-Management-System-main/
  - App.java
  - README.md (original in repo)
  - excel_logs.png
  - file_logs.png
- src/
  - Actuators/
    - Automatic_Actuators/
      - Dehumidifier.java
      - ExhaustFan.java
      - Heater.java
      - Humidifier.java
    - Manual_Actuators/
      - DrainPipe.java
      - IrrigationPump.java
      - Shade.java
      - SodiumLamp.java
  - Field_Meters/
    - DataLogger.java
    - FarmSimulator.java
    - Sensor.java
    - Meters/
      - Hygrometer.java
      - Photometer.java
      - SoilMoistureMeter.java
      - Thermometer.java
  - Loggers/
    - ActuatorLogger.java
    - MeterLogger.java
  - Secure_Authentication/
    - Authentication.java
    - Encryptor.java
    - Authentication_Exceptions/
      - IncorrectPasswordException.java
      - InvalidNameException.java
      - InvalidUserTypeException.java
      - InvalidUsernameException.java
      - UserDoesNotExistException.java
      - WeakPasswordException.java
  - Users/
    - Admin.java
    - Agronomist.java
    - Farmer.java
    - Person.java
  - data_logs/
    - actuator_activities/
      - actuator_activities.txt
    - sensors_data/
      - farm_data.csv
      - sensors_data.txt
    - users_data/
      - users_data.txt
```

> This listing is exact for the repository provided and reflects the actual Java source files and log files present.

---

## 4) OOP concepts used (each mapped to where they appear)
I list each OOP/OO-related concept and where it is used in this project.

1. **Encapsulation**
   - `src.Users.Person` — fields (`name`, `username`, `phoneNum`, `hashedPassword`) are instance variables with accessors (`getName()`, `getUsername()`, `updatePassword()` etc.).
   - `Encryptor` encapsulates hashing logic.

2. **Inheritance**
   - `Admin`, `Agronomist`, `Farmer` extend `Person` (concrete subclasses inherit fields/methods of `Person`).

3. **Abstraction**
   - `Person` is an `abstract class` used to capture common attributes/behavior of all users.
   - `Sensor` and `DataLogger` are `interfaces` that define abstract contracts for meters.

4. **Interfaces (polymorphism via interface types)**
   - `Sensor` and `DataLogger` define `senseData/sendData/receiveData/logData` signatures used by meter classes.
   - `Authentication` is an interface that defines authentication & user-management behavior implemented indirectly by `Admin`'s nested class.

5. **Polymorphism / Dynamic dispatch**
   - The meter implementations (`Thermometer`, `Hygrometer`, `Photometer`, `SoilMoistureMeter`) implement the `Sensor` and `DataLogger` interfaces. Calls against the interface methods (`senseData`, `logData`) dispatch to the concrete meter implementations.

6. **Multiple inheritance (via interfaces)**
   - Meter classes implement both `Sensor` and `DataLogger` interfaces — Java’s interface-based multiple inheritance.

7. **Static members & class-level state**
   - Actuators and logger classes use many `static` fields and `static` methods (e.g., `ExhaustFan.turnOn/turnOff`, `MeterLogger.init/close`). `Authentication` stores a static `Person[] users` array in the interface for global access.

8. **Nested / Inner class**
   - `Admin.UsersAdmin` is an inner class inside `Admin`, implementing `Authentication` to manage users.

9. **Custom exceptions**
   - Custom exceptions reside under `src/Secure_Authentication/Authentication_Exceptions` (e.g., `WeakPasswordException`, `InvalidUsernameException`) and are used by the authentication code to signal invalid inputs.

10. **Final class**
   - `MeterLogger` is declared `final`, indicating it is not intended to be subclassed.

11. **Composition / aggregation**
   - `FarmSimulator` **creates** meter objects (`new Hygrometer()`, etc.) and uses them — this is composition (has-a relationship).
   - `Thermometer` uses `MeterLogger` and `Agronomist` to log and analyze readings — composition by using other classes.

12. **Thread usage**
   - `MeterLogger` runs an internal background thread to periodically flush or write logs (there is a thread reference and `meterLoggerThread.interrupt()`/`start()`/`sleep` usage). This is a concurrency concept used alongside OOP.

13. **Single Responsibility Principle (design intent)**
   - The code is organized so that authentication, logging, sensing, simulation, and actuator logic sit in separate packages/classes.

14. **Observer-like behavior (informal)**
   - When a meter logs data, it calls `Agronomist.readAndAnalyze*` and actuator static methods directly. This is not a formal Observer pattern implementation using listeners but behaves similarly: meters notify interested parties.

---

## 5) How the system runs (step-by-step using `App.java`)
**Prerequisite:** JDK 8+ (recommended Java 11 or later). Run from a terminal (see notes — `System.console()` usage requires a real terminal).

1. `App.main()` starts.
2. The application prints a welcome and calls `Authentication.signUp()` (interactive), which prompts for user type, name, username, password and other details. This creates and stores `Person` instances (Admin/Agronomist/Farmer) in the `Authentication.users` array.
3. `Authentication.logAllDetailsOfUsers()` writes user details to `src/data_logs/users_data/users_data.txt`.
4. `App` prints a progress indicator and calls `FarmSimulator.start()`.
5. `FarmSimulator.init(...)` initializes loggers (`ActuatorLogger.init(...)` and `MeterLogger.init(...)`). It creates instances of the meters and then iterates over a simulated 24-hour day in 15-minute increments.
6. For each time-step, `FarmSimulator` generates `temperature, humidity, lightIntensity, soilMoisture` values using `generateRealisticData(...)`.
7. For each meter: `meter.senseData(time, value)` → `sendData(...)` → `receiveData(...)` → `logData(...)`.
8. `logData` implementations call `MeterLogger` to persist the reading, then call `Agronomist.readAndAnalyze*` (the agronomist updates static state) and then call actuator classes (e.g., `ExhaustFan.readAndAnalyzeTemperatureData(...)`) which react depending on thresholds and `manualSwitch` settings.
9. Actuator activity is logged via `ActuatorLogger`.
10. After the simulation ends, `MeterLogger.close()` and `ActuatorLogger` are used to finish logging (files closed, thread interrupted).

---

## 6) Detailed runtime flow (component interactions)
- **FarmSimulator** drives the loop and controls the global simulation state.
- **Meters** implement `Sensor` and `DataLogger`. A typical flow for a meter call is:
  1. `farmSimulator` calls `meter.senseData(time, value)`
  2. `Sensor.senseData()` implementation calls `sendData(time, value)`
  3. `sendData()` is implemented to call `receiveData()`
  4. `receiveData()` delegates to `logData()`
  5. `logData()` writes to `MeterLogger` and invokes analysis side-effects: `Agronomist.readAndAnalyze*`, actuators' readAndAnalyze methods, etc.
- **Actuators** (automatic ones) have `manualSwitch` state: `-1` = manual off, `0` = automatic, `1` = manual on. When automatic, actuator logic runs in response to meter analysis and toggles `turnOn`/`turnOff`. Actuator actions are logged by `ActuatorLogger`.

---

## 7) Class-by-class descriptions (short, accurate)
> I list each source file and a short description of what it does and how it is used.

### Top-level
- **App.java** — Application entry-point. Interactively registers users (via `Authentication.signUp()`), writes user logs and starts the simulation by calling `FarmSimulator.start()`.

### `src/Secure_Authentication/`
- **Authentication.java** (interface) — central store for `Person[] users`, interactive `signUp()` method for creating users, `logAllDetailsOfUsers()` to persist users to disk, and helper methods to check usernames. Implements validation and uses custom exceptions from `Authentication_Exceptions`.
- **Encryptor.java** — simple password hashing utility used by `Person.updatePassword()` and signup logic.
- **Authentication_Exceptions/*.java** — custom checked exceptions: `WeakPasswordException`, `InvalidUsernameException`, `InvalidUserTypeException`, `InvalidNameException`, `IncorrectPasswordException`, `UserDoesNotExistException`. Thrown by authentication code to indicate invalid inputs.

### `src/Users/`
- **Person.java** (abstract) — base class storing `name`, `username`, `accountType`, `hashedPassword[]`, `phoneNum` and `salary`. Provides getters, `updatePassword()`, `updatePhoneNum()` and constructors.
- **Admin.java** — extends `Person`. Contains nested inner class `UsersAdmin` which implements `Authentication` behaviour for updating and deleting users. Admin provides administrative operations.
- **Agronomist.java** — extends `Person`. Has static fields representing the last-seen `humidity`, `lightIntensity`, `soilMoisture`, `temperature`. Provides `readAndAnalyze*` static methods called by meters when they log data. Agronomist acts as decision-maker (in this code the analysis is simplistic — it updates static fields and leaves actuator-specific decisions to the actuators).
- **Farmer.java** — extends `Person`. Represents a Farmer user but has minimal behaviour in the provided code (placeholder for manual control interfaces).

### `src/Field_Meters/`
- **Sensor.java** (interface) — defines `senseData(String, double)` and `sendData(String, double)` for meter sensors.
- **DataLogger.java** (interface) — defines `receiveData(String, double)` and `logData(String, double)` for data logging.
- **FarmSimulator.java** — orchestrates the simulation. Generates realistic values per 15-minute step for 24 hours, applies actuator compound effects, initializes loggers and calls meter `.senseData()`.
- **Meters/**
  - **Thermometer.java** — implements `Sensor` & `DataLogger` for temperature. On `logData` it calls `MeterLogger.logTemperature(value)`, `Agronomist.readAndAnalyzeTemperatureData(...)` and actuator read/analysis methods (e.g., `ExhaustFan.readAndAnalyzeTemperatureData(...)`).
  - **Hygrometer.java** — for humidity; similar responsibilities as `Thermometer` but interacts with Humidifier/Dehumidifier.
  - **Photometer.java** — for light intensity; interacts with `SodiumLamp` and `Shade` where appropriate.
  - **SoilMoistureMeter.java** — for soil moisture; interacts with `IrrigationPump` and `DrainPipe`.

### `src/Actuators/`
- **Automatic_Actuators/**
  - **Heater.java** — increases temperature, includes `readAndAnalyzeTemperatureData(...)` which may `turnOn/turnOff`. Contains `manualSwitch` and `active` flags and `operationCharges` (cost).
  - **ExhaustFan.java** — decreases temperature; has same control fields and logs via `ActuatorLogger`.
  - **Humidifier.java** & **Dehumidifier.java** — adjust humidity; implemented similarly.
- **Manual_Actuators/**
  - **IrrigationPump.java**, **DrainPipe.java**, **Shade.java**, **SodiumLamp.java** — manual devices. Each exposes `turnOn(String timeStamp)`/`turnOff(String)` static methods and log actions with `ActuatorLogger`.

### `src/Loggers/`
- **MeterLogger.java** (final) — responsible for writing meter readings to `sensors_data.txt` and `farm_data.csv`. Uses static methods such as `init(...)`, `logTemperature(...)`, and runs/uses a background thread to manage IO/flush/rotation. Has `close()` to interrupt thread and close writers.
- **ActuatorLogger.java** — logs actuator actions to `src/data_logs/actuator_activities/actuator_activities.txt`.

---

## 8) Build & run instructions (exact commands)
### Requirements
- JDK installed (Java 8 or newer). Recommended: Java 11+.
- Run from a real terminal/console (not an IDE run window), because `Authentication.signUp()` uses `System.console()` which returns `null` in some IDE run configurations.

### Exact commands (Linux / macOS / WSL):
Open terminal at the project root where `App.java` and `src/` reside (the folder that contains `App.java`). Then:
```bash
# 1) create an output directory
mkdir -p out

# 2) compile all java sources (App.java + everything under src)
javac -d out App.java $(find src -name "*.java")

# 3) run the app
java -cp out App
```

### Windows (PowerShell) - recommended if globbing works:
```powershell
mkdir out
javac -d out App.java (Get-ChildItem -Recurse -Filter *.java -Name | ForEach-Object { "src\$_" })
java -cp out App
```

**Important:** If you run from an IDE (IntelliJ / Eclipse) the `System.console()` call used by `Authentication.signUp()` may return `null` and `consoleInput.readLine(...)` will throw a `NullPointerException`. To avoid that:
- Run the compiled JAR or class from a terminal/command prompt OR
- Modify `Authentication.signUp()` to use a `Scanner(System.in)` fallback when `System.console()` returns `null`.

### Alternative: compile & run in a single line (Linux/mac):
```bash
javac -d out App.java $(find src -name "*.java") && java -cp out App
```

---

## 9) Inputs / Outputs / Generated files
**Inputs:** interactive console inputs during `Authentication.signUp()` (user type, full name, username, password, phone number, salary, thresholds — all text/number values).

**Outputs (files created/updated)** — located in the repository under `src/data_logs/`:
- `src/data_logs/users_data/users_data.txt` — user registration details.
- `src/data_logs/sensors_data/sensors_data.txt` — plain text sensor logs (all meter readings).
- `src/data_logs/sensors_data/farm_data.csv` — CSV-formatted sensor dataset.
- `src/data_logs/actuator_activities/actuator_activities.txt` — actuator on/off logs and charges.

The repo in its current state also contains example images `excel_logs.png` and `file_logs.png` for documentation.

---
